@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    /* Ultra-sharp text rendering */
    @apply bg-light-surface text-light-text-body dark:bg-oled-black dark:text-dark-text-body transition-colors duration-500 ease-in-out antialiased tracking-wide;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    @apply selection:bg-black selection:text-white dark:selection:bg-white dark:selection:text-black;
  }
  h1, h2, h3, h4, h5, h6 {
    @apply text-light-text-head dark:text-dark-text-head tracking-tight font-medium;
  }
}

@layer components {
  /* Strict Glassmorphism Specs - Sharp/Sleek */
  .glass-panel {
    @apply backdrop-blur-xl transition-all duration-500 rounded-none;
    /* Increased border opacity for crisper edges */
    @apply bg-white/80 border border-black/10 shadow-[0_0_0_1px_rgba(0,0,0,0.02)]; 
    @apply dark:bg-white/5 dark:border-white/10 dark:shadow-[0_0_0_1px_rgba(255,255,255,0.02)];
  }

  .glass-panel-hover {
    @apply hover:bg-white/90 dark:hover:bg-white/10 hover:border-black/20 dark:hover:border-white/20 transition-all duration-300;
  }

  .page-reveal {
    animation: fadeIn 0.7s ease-in;
  }
  
  .modern-loader {
    @apply w-8 h-8 border-4 border-gray-300 dark:border-gray-700 border-t-black dark:border-t-white rounded-none;
    animation: spin 1s linear infinite;
  }
  
  .tap-highlight-none {
    -webkit-tap-highlight-color: transparent;
  }
  
  .font-serif-elegant {
    @apply font-serif;
  }
  
  .font-clerk {
    @apply tracking-tight;
  }
  
  .toast-animate {
    animation: slideInFromBottom 0.7s ease-out;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

@keyframes slideInFromBottom {
  from {
    opacity: 0;
    transform: translateY(100px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Cart total flash animation â€” triggers when discount/surcharge is applied */
@keyframes priceFlash {
  0% { transform: scale(1); opacity: 1; }
  15% { transform: scale(1.18); opacity: 0.85; color: #22c55e; }
  30% { transform: scale(0.95); }
  50% { transform: scale(1.1); color: #22c55e; }
  70% { transform: scale(0.98); }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes surchargeFlash {
  0% { transform: scale(1); opacity: 1; }
  15% { transform: scale(1.18); opacity: 0.85; color: #ef4444; }
  30% { transform: scale(0.95); }
  50% { transform: scale(1.1); color: #ef4444; }
  70% { transform: scale(0.98); }
  100% { transform: scale(1); opacity: 1; }
}

.price-flash {
  animation: priceFlash 0.8s ease-in-out;
}

.surcharge-flash {
  animation: surchargeFlash 0.8s ease-in-out;
}

/* Hero Slider Animations */
@keyframes kenBurns {
  0% {
    transform: scale(1);
  }
  100% {
    transform: scale(1.08);
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-60px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-ken-burns {
  animation: kenBurns 8s ease-out forwards;
}

.animate-slide-in-left {
  animation: slideInLeft 1s ease-out;
}
